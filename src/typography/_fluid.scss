// =============================================================================
// Fluid Typography
//
// Uses CSS clamp() to scale font sizes smoothly between two viewport widths.
// No JavaScript, no media query breakpoints — purely mathematical.
//
// Usage:
//   .sh-text-fluid-lg — fluid 18px → 22px
//   h1 { font-size: fluid-type(1.5rem, 3rem); }
// =============================================================================
@use "sass:list";
@use "../variables" as vars;

// Function: fluid-type
// Returns a clamp() expression with CSS-native calc() arithmetic.
@function fluid-type(
  $min-size,
  $max-size,
  $min-vw: 20rem,
  $max-vw: 80rem
) {
  $preferred: "#{$min-size} + (#{$max-size} - #{$min-size}) * ((100vw - #{$min-vw}) / (#{$max-vw} - #{$min-vw}))";
  @return clamp(#{$min-size}, calc(#{$preferred}), #{$max-size});
}

// Fluid type scale
$fluid-type-scale: (
  xs:  (0.75rem,  0.875rem),
  sm:  (0.875rem, 1rem),
  base:(1rem,     1.125rem),
  lg:  (1.125rem, 1.375rem),
  xl:  (1.25rem,  1.75rem),
  2xl: (1.5rem,   2.25rem),
  3xl: (1.875rem, 3rem),
  4xl: (2.25rem,  4rem),
) !default;

// Generate .sh-text-fluid-{key} classes
@each $key, $sizes in $fluid-type-scale {
  .#{vars.$prefix}text-fluid-#{$key} {
    font-size: fluid-type(list.nth($sizes, 1), list.nth($sizes, 2));
  }
}
